<div id="container" *ngIf="deviceDetector(); else mobileView">
    <div class="card card-head" *ngIf="dataLoaded">
        <div *ngIf="meeting.reoccrence == 'Yes' || meeting.reoccrence == null">
            <div class="card-header">
                <h1 class="card-title">
                    <div class="row">
                        <div class="col">
                            <b style="margin-left: 20px;">
                                <div *ngIf='!editHeader'  class="float-left"
                                    style="margin-left: 6px;">
                                    {{meeting.Meeting_Subject}}<i
                                        *ngIf="currentUser.LoginName == meeting.HostUser || currentUser.Initials == 'sAdmin'"
                                        class="fas fa-pencil-alt titleIcon" (click)='editHeader=true' style="margin-left: 5px;"></i>
                                </div>
                                <input *ngIf='editHeader' (focusout)="onHeaderFocused()"
                                    (keydown.enter)='$event.target.blur()' [(ngModel)]='meeting.Meeting_Subject'
                                    class="editInput" appAutofocus type='text' (keydown.enter)='$event.target.blur()'
                                    (focusout)="editHeader=false">
                            </b>
                        </div>

                    </div>

                </h1>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-12 col-md-12 col-lg-12 order-2 order-md-1">

                        <div class="row mb-3">
                            <div class="col-md-9">
                                <div class="ribbon ribbon-1">
                                    <br><b style="font-size: 16px;"> In Progress</b>
                                </div>

                                <div class="ribbon ribbon-1" style="background: #21759a;"
                                    *ngIf="meeting.Status === 1; else Overdue"
                                    (click)="updateMeeting(meeting.Status, 'Status')">
                                    Meeting
                                    <br><b style="font-size: 16px;">In Progress</b>
                                </div>
                                <ng-template #Overdue>
                                    <ng-container *ngIf="meeting.Status === 0; else Complete">
                                        <div class="ribbon ribbon-1" style="background: #e74c3c; padding: 8px 30px;"
                                            (click)="updateMeeting(meeting.Status, 'Status')">
                                            Meeting
                                            <br><b style="font-size: 16px;">Overdue</b>
                                        </div>
                                    </ng-container>
                                </ng-template>
                                <ng-template #Complete>
                                    <div class="ribbon ribbon-1"
                                        style="background: #2bc440; padding: 8px 28px; color: white;"
                                        (click)="updateMeeting(meeting.Status, 'Status')">Meeting
                                        <br><b style="font-size: 16px;">Complete</b>
                                    </div>
                                </ng-template>

                                <table class="meetingMain">
                                    <tr>
                                        <td class="meetingLabel"> Meeting ID :</td>
                                        <td class="meetingContent" style="color: rgb(97, 96, 96);">
                                            <a style="font-size: 14px; color: black; margin-left: 10px;">MM -
                                                {{meeting.MeetingID}}</a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="meetingLabel"> Objective :</td>
                                        <td class="meetingContent">
                                            <div *ngIf='!editMode'  style="margin-left: 6px;">
                                                {{meeting.Meeting_objective}} <i
                                                    *ngIf="currentUser.LoginName == meeting.HostUser || currentUser.Initials == 'sAdmin'"
                                                    class="fas fa-pencil-alt" (click)='editMode=true'
                                                    style="color: rgb(211, 211, 211); margin-left: 10px;"></i></div>
                                            <textarea *ngIf='editMode' (focusout)="onFocusOut()"
                                                style="width: 600px; height: 60px;"
                                                (keydown.enter)='$event.target.blur()'
                                                [(ngModel)]='meeting.Meeting_objective' class='cellInput' appAutofocus
                                                type='text' (keydown.enter)='$event.target.blur()'
                                                (focusout)="editMode=false"></textarea>
                                        </td>
                                    </tr>

                                </table>
                            </div>
                            <div class="col-md-3">
                                <table>
                                    <td class="meetingLabel">
                                        <img style="height: 60px; width: 60px;margin-top: 15px;"
                                            src="../../../assets/facebook.png">
                                    </td>
                                    <td style="text-align: start;">
                                        <a style="font-size: 1vw;">Meeting Host</a><br>
                                        <a style="font-size: 0.8vw;">{{meeting.HostUser}}</a>
                                    </td>
                                </table>
                                <button mat-raised-button color="warn" *ngIf="isCompleted" (click)="deleteMeeting()"
                                    class="form-control">Archive
                                    Meeting</button>
                                <button mat-raised-button color="accent" *ngIf="isHost"
                                    onclick="document.getElementById('id01').style.display='block'"
                                    class="form-control"><a style="font-size: 1vw;">Re-Schedule
                                        Meeting</a></button>
                                <button
                                    *ngIf="currentUser.LoginName == meeting.HostUser || currentUser.Initials == 'sAdmin'"
                                    mat-raised-button color="warn" (click)="onCancelMeeting(meeting)"
                                    class="form-control mt-2">Cancel
                                    Meeting</button>
                            </div>
                        </div>
                        <mat-divider></mat-divider>

                        <div class="row">
                            <div class="col-9" style="max-height: 500px; overflow-y: auto;">
                                <div class="row my-2">
                                    <div class="col">   
                                        <a class="ml-2" style="cursor: pointer;" *ngIf="!newParticipant"
                                            (click)="showAutoComplete()">Add Participant +</a>
                                        <div class="ml-2" *ngIf="newParticipant">
                                            <input class="addSearch" type="text" placeholder="Pick one"
                                                aria-label="Number" matInput [matAutocomplete]="auto">
                                            <mat-autocomplete #auto="matAutocomplete"
                                                (optionSelected)='getPosts($event.option.value)'>
                                                <mat-option *ngFor="let option of options" [value]="option.Email">
                                                    {{option.FirstName}} {{option.LastName}}
                                                </mat-option>
                                            </mat-autocomplete>
                                            <span class="ml-2" (click)="showAutoComplete()" style="cursor: pointer;"><i
                                                    class="fas fa-times"></i></span>

                                        </div>
                                    </div>
                                </div>
                                <div class="row" *ngIf="participants.length != 0; else noParticipants">
                                    <div *ngFor="let participant of participants">
                                        <div class="col" style="display: inline-flex;">
                                            <img class="attendeesLogo" src="../../../assets/avatar1.png">
                                            <p class="mt-4 ml-md-3 ml-2">{{participant}} <span
                                                    *ngIf="currentUser.LoginName == meeting.HostUser || currentUser.Initials == 'sAdmin'"
                                                    class="ml-3" style="cursor: pointer;"
                                                    (click)="blockParticipant(participant)"
                                                    title="Remove user from meeting"><i
                                                        class="fas fa-trash-alt"></i></span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <ng-template #noParticipants>
                                    <div style="padding: 10px;">
                                        <h1><b>No Participants</b></h1>
                                    </div>
                                </ng-template>

                                <div class="row mt-3 mb-2">
                                    <div class="col">
                                        <a class="ml-2" style="cursor: pointer;" *ngIf="!newNonParticipant"
                                            (click)="showNonRegisterUserField()">Add Non-Register Participant +</a>

                                        <div class="ml-2" *ngIf="newNonParticipant">
                                            <input type="email" class="form-control mb-2" name="OtherUserMail"
                                                [(ngModel)]="otherUserMail" placeholder="eg. abc@gmail.com">
                                            <span class="mt-1 btn btn-info otherUserMail"
                                                (click)="addOtherUserMail(otherUserMail)">+ Add</span>
                                            <span class="ml-2 mt-1 btn btn-danger otherUserMail"
                                                (click)="showNonRegisterUserField()">Cancel</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-3" style="margin-top: 20px; justify-content: center;text-align: center;">
                                <table style="display: block;">
                                    <td class="meetingLabel">
                                        <i style="font-size: 50px;" class="fas fa-male"></i>
                                    </td>
                                    <td style="text-align: start;padding: 4px;vertical-align: bottom;">
                                        <div *ngIf="participants != null; else somethingElse">
                                            <a style="font-size: 2vw; color: rgb(158, 158, 158);">Invitees</a><br>
                                            <a
                                                style="font-size: 1vw; color: orangered;"><b>{{participants.length}}</b></a>
                                            <a style="font-size: 1vw; color: rgb(60, 120, 168);"> of <b>100</b></a>
                                        </div>
                                        <ng-template #somethingElse>
                                            <a style="font-size: 2vw; color: rgb(158, 158, 158);">Invitees</a><br>
                                            <a style="font-size: 1vw; color: orangered;"><b>0</b></a>
                                            <a style="font-size: 1vw; color: rgb(60, 120, 168);"> of <b>100</b></a>
                                        </ng-template>
                                    </td>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div style="text-align: end; float: right; margin-right: 80px; margin-top: 20px;">
        <button mat-fab color="warn" *ngIf="!fabIcon" (click)="showFab()"
            aria-label="Example icon-button with a menu"><i style="font-size: 18px;" class="fas fa-plus"
                aria-hidden="true"></i>
        </button>
        <div class="float-right" *ngIf="fabIcon">

            <button mat-fab color="primary" style="margin-right: 10px;" (click)="openChat(meeting.RoomKey)"
                aria-label="Example icon-button with a heart icon" title="Video Room">
                <mat-icon>airplay</mat-icon>
            </button>
            <button mat-fab color="primary" style="margin-right: 10px;" (click)="fileInput.click()" title="Upload File">
                <mat-icon>publish</mat-icon>
                <input #fileInput type="file" (change)="onFileInput($event)" style="display:none;" />
            </button>
            <button mat-fab color="primary" style="margin-right: 10px;" (click)="getServerFiles()"
                title="Download File">
                <mat-icon>get_app</mat-icon>
            </button>
            <button mat-fab color="warn" (click)="showFab()" aria-label="Example icon-button with a menu"><i
                    style="font-size: 18px;" class="fa fa-times" aria-hidden="true"></i>
            </button>
        </div>
    </div>
    <div class="card card-head" style="margin-top: 100px;" *ngIf="dataLoaded">

        <div class="card-body">
            <div class="row">
                <div class="col-12 col-md-12 col-lg-12 order-2 order-md-1">
                    <div class="row">
                        <div class="col-12">
                            <nav>
                                <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                                    <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab"
                                        (click)="navItem('A')" role="tab" aria-controls="nav-home">
                                        Minutes of Meeting</a>
                                    <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab"
                                        (click)="navItem('B')" role="tab" aria-controls="nav-profile">Action
                                        Items</a>
                                    <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab"
                                        (click)="navItem('C')" role="tab" aria-controls="nav-contact">Decision
                                        Lists</a>
                                </div>
                            </nav>
                            <div class="tab-content py-3 px-3 px-sm-0" id="nav-tabContent">
                                <div class="tab-pane fade show active" *ngIf="activePage === 'A'">
                                    <div class="row">
                                        <div class="col">

                                            <table class="table ">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class="col-3">Project Name</th>
                                                        <th scope="col" class="col-3">Agenda Name</th>
                                                        <th scope="col" class="col-2">Status</th>
                                                        <th scope="col" class="col-4">Decision</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let item of dataSource">
                                                        <th scope="row" class="col-3"><b>{{item.project_name |
                                                                uppercase}}</b></th>
                                                        <td class="col-3">
                                                            <ejs-inplaceeditor id="agenda_name" type="Text"
                                                                (actionSuccess)="onChangeAgendaName($event.value, item.id, 'ActionItem_Title')"
                                                                [(ngModel)]="item.agenda_name" [model]="modelObj">
                                                            </ejs-inplaceeditor>
                                                        </td>
                                                        <td class="col-2">
                                                            <span [ngSwitch]="item.status">
                                                                <span *ngSwitchCase='0' mat-button
                                                                    [matMenuTriggerFor]="due"
                                                                    title="Click to Change agenda status"
                                                                    style="padding: 3px 10px; border-radius: 10px; cursor: pointer; background-color: crimson; color: white;">
                                                                    Due <i class="fas fa-caret-down"></i>
                                                                </span>
                                                                <mat-menu #due="matMenu">
                                                                    <button
                                                                        (click)="onChangeAgendaName(1, item.id, 'Status')"
                                                                        mat-menu-item>In Progress</button>
                                                                    <button
                                                                        (click)="onChangeAgendaName(2, item.id, 'Status')"
                                                                        mat-menu-item>Completed</button>
                                                                </mat-menu>

                                                                <span *ngSwitchCase='1' mat-button
                                                                    [matMenuTriggerFor]="inProgress"
                                                                    title="Click to Change agenda status"
                                                                    style="padding: 3px 10px; border-radius: 10px; cursor: pointer; background-color: cornflowerblue; color: white;">
                                                                    In Progress <i class="fas fa-caret-down"></i>

                                                                </span>
                                                                <mat-menu #inProgress="matMenu">
                                                                    <button
                                                                        (click)="onChangeAgendaName(0, item.id, 'Status')"
                                                                        mat-menu-item>Due</button>
                                                                    <button
                                                                        (click)="onChangeAgendaName(2, item.id, 'Status')"
                                                                        mat-menu-item>Completed</button>
                                                                </mat-menu>
                                                                <span *ngSwitchCase='2' mat-button
                                                                    [matMenuTriggerFor]="Completed"
                                                                    title="Click to Change agenda status"
                                                                    style="padding: 3px 10px; border-radius: 10px; cursor: pointer; background-color: green; color: white;">
                                                                    Completed <i class="fas fa-caret-down"></i>

                                                                </span>
                                                                <mat-menu #Completed="matMenu">
                                                                    <button
                                                                        (click)="onChangeAgendaName(0, item.id, 'Status')"
                                                                        mat-menu-item>Due</button>
                                                                    <button
                                                                        (click)="onChangeAgendaName(1, item.id, 'Status')"
                                                                        mat-menu-item>In Progress</button>
                                                                </mat-menu>
                                                            </span>
                                                        </td>
                                                        <td class="col-4">
                                                            <ejs-inplaceeditor id="decision" type="Text"
                                                                (actionSuccess)="onChangeAgendaName($event.value, item.id, 'decision')"
                                                                [(ngModel)]="item.decision" [model]="modelObj">
                                                            </ejs-inplaceeditor>

                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>

                                    </div>

                                </div>

                                <div class="tab-pane fade show active" *ngIf="activePage === 'B'">
                                    <div *ngIf="agendaItems.length > 0; else default">
                                        <div class="cardActionItem" *ngFor="let actionItem of agendaItems"
                                            (click)="detailedAction(actionItem._id)">
                                            <div class="card-title">
                                                <div class="row">
                                                    <div class="col-12 col-md-12 col-lg-12 order-2 order-md-1">

                                                        <div class="row">
                                                            <div class="col-9">
                                                                <div class="ribbon ribbon-2"
                                                                    style="background: #21759a;"
                                                                    *ngIf="actionItem.Status === 1; else Overdue">

                                                                    <b style="font-size: 16px; margin-top: 10px;">In
                                                                        Progress</b>
                                                                </div>
                                                                <ng-template #Overdue>
                                                                    <ng-container
                                                                        *ngIf="actionItem.Status === 0; else Complete">
                                                                        <div class="ribbon ribbon-2"
                                                                            style="background: #e74c3c; padding: 8px 30px;">

                                                                            <b
                                                                                style="font-size: 16px; margin-top: 10px;">Overdue</b>
                                                                        </div>
                                                                    </ng-container>
                                                                </ng-template>
                                                                <ng-template #Complete>
                                                                    <div class="ribbon ribbon-2"
                                                                        style="background: #2bc440; padding: 8px 28px; color: white;">

                                                                        <b
                                                                            style="font-size: 16px; margin-top: 10px;">Complete</b>
                                                                    </div>
                                                                </ng-template>
                                                                <table class="meetingMain">
                                                                    <tr>
                                                                        <td class="meetingLabel"
                                                                            style="font-size: 24px;width: 100%;">
                                                                            {{actionItem.ActionItem_Title}}</td>
                                                                    </tr>
                                                                </table>
                                                                <table class="meetingMain">

                                                                    <tr>
                                                                        <td class="meetingLabel"> Project :</td>
                                                                        <td class="meetingContent"
                                                                            style="color: rgb(47, 68, 45);">
                                                                            {{actionItem.project_Name}}
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="meetingLabel"> Objective :</td>
                                                                        <td class="meetingContent">
                                                                            {{actionItem.Action_Description}}
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="meetingLabel"> Due Date :</td>
                                                                        <td class="meetingContent">
                                                                            {{actionItem.ActionDate | date :
                                                                            'mediumDate'}}
                                                                        </td>
                                                                    </tr>
                                                                </table>

                                                            </div>
                                                            <div class="col-3">
                                                                <table>
                                                                    <td class="meetingLabel">
                                                                        <img style="height: 60px; width: 60px;margin-top: 15px;"
                                                                            src="../../../assets/facebook.png">
                                                                    </td>
                                                                    <td style="text-align: start;">
                                                                        <a style="font-size: 1vw;">Assignee</a><br>
                                                                        <a
                                                                            style="font-size: 0.8vw;">{{actionItem.ActionAssignedTo}}</a>
                                                                    </td>
                                                                </table>
                                                                <div style="margin-top: 10px;">
                                                                    <a style="font-size: 16px; color: grey;">Priority
                                                                        :</a>
                                                                    <button
                                                                        *ngIf="actionItem.Priority === 'High'; else medium"
                                                                        style="margin-left: 10px; width: 120px; font-size: 18px; padding: 10px; border-radius: 50px; background: rgb(231, 25, 25); color: white; font-weight: 600;"
                                                                        color="warn">{{actionItem.Priority}}</button>
                                                                    <ng-template #medium>
                                                                        <ng-container
                                                                            *ngIf="actionItem.Priority === 'medium'; else low">
                                                                            <button
                                                                                style="margin-left: 10px; width: 120px; font-size: 18px; padding: 10px; border-radius: 50px; background: rgb(250, 96, 40); color: white; font-weight: 600;"
                                                                                color="warn">{{actionItem.Priority}}</button>
                                                                        </ng-container>
                                                                    </ng-template>
                                                                    <ng-template #low>
                                                                        <button
                                                                            style="margin-left: 10px; width: 120px; font-size: 18px; padding: 10px; border-radius: 50px; background: rgb(241, 160, 38); color: black; font-weight: 600;"
                                                                            color="warn">{{actionItem.Priority}}</button>
                                                                    </ng-template>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- <div class="card-body" *ngIf="collapsedA">
                                                <div class="commentSection">
                                                    <div style="margin-top: 20px;">
                                                        <img class="commentImage" style="float: left;"
                                                            src="../../../assets/avatar1.png">
                                                        <div class="comment">
                                                            <a style="font-size: 14px;">Many desktop publishing packages
                                                                and
                                                                web
                                                                page editors now use Lorem Ipsum</a>
                                                        </div>
                                                    </div>
                                                    <div style="margin-top: 20px;">
                                                        <img class="commentImage" style="float: left;"
                                                            src="../../../assets/avatar1.png">
                                                        <div class="comment">
                                                            <a style="font-size: 14px;">Many desktop publishing packages
                                                                and
                                                                web
                                                                page editors now use Lorem Ipsum</a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <mat-divider></mat-divider>
                                                <div style="margin-top:30px; margin-left: 2%;">
                                                    <img class="commentImage"
                                                        style="float: left; width: 45px; height: 45px;"
                                                        src="../../../assets/avatar1.png">
                                                    <div class="form-group green-border-focus"
                                                        style="margin-left: 4%;margin-right: 2%;">
                                                        <textarea class="form-control" name="Comment1"
                                                            [(ngModel)]="comment" id="exampleFormControlTextarea5"
                                                            rows="1" placeholder="Add your comment Here"></textarea>
                                                    </div>

                                                    <button mat-raised-button (click)="postComment()"
                                                        style="margin-left: 4%; margin-right: 2%;height: 50px;"
                                                        color="warn">Post Your comment</button>
                                                </div>
                                            </div> -->
                                        </div>
                                    </div>
                                    <ng-template #default>
                                        <div style="text-align: center;justify-content: center; margin-top: 40px;">
                                            <a style="font-size: 18px; color: black; font-weight: 500;">There are no
                                                Action Items in this meeting.</a><br>
                                            <a style="font-size: 18px; color: black; font-weight: 500;">You can create a
                                                new Action Item by, <br> click on Action Item button at top right of
                                                your screen. <br> Thanks.</a>
                                        </div>
                                    </ng-template>

                                </div>
                                <div class="tab-pane fade show active" *ngIf="activePage === 'C'">
                                    <div *ngIf="agendaItems.length > 0; else default">
                                        <div *ngFor="let decision of agendaItems">
                                            <div class="card mb-2 py-2 px-2 container-fluid"
                                                *ngIf="decision.decision.length > 0 || decision.Status == 2"
                                                (click)="detailedDecision(decision._id)" style="cursor: pointer;">
                                                <div class="row">
                                                    <div class="col-8">
                                                        <div class="row">
                                                            <div class="col-12 mb-2 mt-1">
                                                                <span class="ml-2"
                                                                    style="font-size: 24px; font-weight: 500; color: gray;">{{decision.ActionItem_Title}}</span><br>
                                                                <mat-divider></mat-divider>
                                                            </div>

                                                            <div class="col-11 mx-auto" style="font-size: 14px;">
                                                                <span>
                                                                    <span style="color: gray; font-weight: 500;">Project
                                                                        Name
                                                                        :</span> {{decision.project_Name}}
                                                                </span><br>
                                                                <span>
                                                                    <span
                                                                        style="color: gray; font-weight: 500;">Objective
                                                                        :
                                                                    </span> {{decision.Action_Description}}</span><br>
                                                                <span><span
                                                                        style="color: gray; font-weight: 500;">Decision
                                                                        :</span> {{decision.decision}}</span>
                                                            </div>

                                                        </div>

                                                    </div>
                                                    <div class="col">

                                                        <div class="row">
                                                            <table class="col-11 mx-auto">
                                                                <td class="meetingLabel">
                                                                    <img style="height: 60px; width: 60px;margin-top: 15px;"
                                                                        src="../../../assets/facebook.png">
                                                                </td>
                                                                <td style="text-align: start;">
                                                                    <a style="font-size: 1vw">Assignee</a><br>
                                                                    <a
                                                                        style="font-size: 0.8vw">{{decision.ActionAssignedTo}}</a>
                                                                </td>
                                                            </table>

                                                            <div class="col-11 mx-auto" style="margin-top: 10px;">
                                                                <a style="font-size: 16px; color: grey;">Priority
                                                                    :</a>
                                                                <button
                                                                    *ngIf="decision.Priority === 'High'; else medium"
                                                                    style="margin-left: 10px; width: 120px; font-size: 18px; padding: 10px; border-radius: 50px; background: rgb(231, 25, 25); color: white; font-weight: 600;"
                                                                    color="warn">{{decision.Priority}}</button>
                                                                <ng-template #medium>
                                                                    <ng-container
                                                                        *ngIf="decision.Priority === 'medium'; else low">
                                                                        <button
                                                                            style="margin-left: 10px; width: 120px; font-size: 18px; padding: 10px; border-radius: 50px; background: rgb(250, 96, 40); color: white; font-weight: 600;"
                                                                            color="warn">{{decision.Priority}}</button>
                                                                    </ng-container>
                                                                </ng-template>
                                                                <ng-template #low>
                                                                    <button
                                                                        style="margin-left: 10px; width: 120px; font-size: 18px; padding: 10px; border-radius: 50px; background: rgb(241, 160, 38); color: black; font-weight: 600;"
                                                                        color="warn">{{decision.Priority}}</button>
                                                                </ng-template>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    <ng-template #default>
                                        <div style="text-align: center;justify-content: center; margin-top: 40px;">
                                            <a style="font-size: 18px; color: black; font-weight: 500;">There are no
                                                Decision in this meeting.</a><br>
                                            <a style="font-size: 18px; color: black; font-weight: 500;">You can create a
                                                new Decision by, <br> click on Decision button at top right of your
                                                screen. <br> Thanks.</a>
                                        </div>
                                    </ng-template>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="card card-head mt-5" *ngIf="commentLoad">
        <div class="card-header">
            <span class="card-title title">Comments</span>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col">
                    <!-- <ejs-richtexteditor id="commentText" name="commentText" [(value)]="commentText"
                        placeholder="Enter comment here" [(ngModel)]="commentText" [toolbarSettings]="tools">
                    </ejs-richtexteditor> -->
                    <quill-editor id="commentText" name="commentText" [(ngModel)]="commentText" [modules]="quillConfig"
                        (onSelectionChanged)="onSelectionChanged($event)" (onContentChanged)="onContentChanged($event)">
                    </quill-editor>
                </div>
            </div>
            <div class="row btnRow mb-3">
                <div class="col" style="text-align: right; font-size: 12px;">
                    <button ejs-button cssClass="e-primary" (click)="onCanelComment()">Cancel</button>
                    <button ejs-button cssClass="e-success" class="ml-sm-3 ml-2" (click)="onPostComment()">Post</button>
                </div>
            </div>

            <mat-divider></mat-divider>

            <div class="row mt-sm-4 mt-2 comment">
                <div class="col-12 mb-2" *ngFor="let comment of comments">
                    <div class="card">
                        <div class="card-header" style="font-size: 13px; display: flex;">
                            <div>
                                <img class="commentavatar" [src]="transform(comment.HostUser)">

                            </div>
                            <div class="ml-2">
                                <span><span style="font-weight: 500;">{{comment.HostUser | titlecase}}</span> added a
                                    comment</span><br>
                                <span style="font-size: 10px; font-weight: 500; color: gray;">{{comment.CommentDate |
                                    date : "MMM d, y h:mm a"}}</span>
                            </div>

                        </div>
                        <div class="card-body">
                            <div [innerHTML]="commentTransform(comment.comment)"></div>
                            <!-- <ejs-richtexteditor id="commentText" name="commentText" [(value)]="comment.comment"
                                placeholder="Enter comment here" [(ngModel)]="commentText" [toolbarSettings]="tools">
                            </ejs-richtexteditor> -->
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>

<ng-template #mobileView>
    <div id="containerr" *ngIf="dataLoaded">
        <mat-card style="margin: 0px 10px 10px 10px; min-width: 150px;">
            <mat-card-header>
                <div mat-card-avatar class="example-header-image" *ngIf="meeting.Status === 1; else Overdue"><img
                        style="width: 40px;" src="../../../assets/in_prgress.jpg"
                        (click)="updateMeeting(meeting.Status, 'Status')"></div>
                <ng-template #Overdue>
                    <div mat-card-avatar class="example-header-image" *ngIf="meeting.Status === 0; else Completed"><img
                            style="width: 40px;" src="../../../assets/overdue.jpg"
                            (click)="updateMeeting(meeting.Status, 'Status')"></div>
                </ng-template>
                <ng-template #Completed>
                    <div mat-card-avatar class="example-header-image" *ngIf="meeting.Status === 2"><img
                            style="width: 40px;" src="../../../assets/Completed.jpg"
                            (click)="updateMeeting(meeting.Status, 'Status')"></div>
                </ng-template>
                <mat-card-title>{{meeting.Meeting_Subject}}</mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <p class="text-oneline">
                    <b>Meeting ID : </b> MM-{{meeting.MeetingID}}
                </p>
                <p class="text-oneline">
                    <b>Meeting Date : </b> {{meeting.MeetingTime}}
                </p>
                <p>
                    <b>Objective : </b>{{meeting.Meeting_objective}}
                </p>
            </mat-card-content>
        </mat-card>

        <div style="text-align: center; margin-bottom: 15px; margin-top: 15px;">

            <button mat-fab color="primary" style="margin-right: 10px;" (click)="openChat(meeting.RoomKey)"
                aria-label="Example icon-button with a heart icon" title="Video Room">
                <mat-icon>airplay</mat-icon>
            </button>
            <button mat-fab color="accent" style="margin-right: 10px;" (click)="fileInput.click()" title="Upload File">
                <mat-icon>publish</mat-icon>
                <input #fileInput type="file" (change)="onFileInput($event)" style="display:none;" />
            </button>
            <button mat-fab color="accent" style="margin-right: 10px;" (click)="getServerFiles()" title="Download File">
                <mat-icon>get_app</mat-icon>
            </button>

        </div>

        <div class="card card-head" style="margin-top: 30px;" *ngIf="dataLoaded">
            <div class="card-body">
                <mat-tab-group mat-align-tabs="start">
                    <mat-tab label="Agenda">
                        <div class="mt-2 agendaSmall">
                            <div class="card mb-2" style="cursor: pointer;" *ngFor="let actionItem of agendaItems"
                                (click)="detailedAction(actionItem._id)">
                                <div class="card-header">
                                    <span style="font-weight: 500;">{{actionItem.ActionItem_Title}}</span>
                                </div>
                                <div class="card-body" style="font-size: 12px;">
                                    <span><span style="font-weight: 500;">Priority :</span>
                                        {{actionItem.Priority}}</span><br>
                                    <span><span style="font-weight: 500;">Project Name :</span>
                                        {{actionItem.project_Name}}</span><br>
                                    <span><span style="font-weight: 500;">Description :</span>
                                        {{actionItem.Action_Description}}</span>
                                </div>
                            </div>
                        </div>

                    </mat-tab>
                    <mat-tab label="Decision">
                        <div class="mt-2 agendaSmall">
                            <div class="card mb-2" style="cursor: pointer;" *ngFor="let actionItem of agendaItems"
                                (click)="detailedDecision(actionItem._id)">
                                <div class="card-header">
                                    <span style="font-weight: 500;">{{actionItem.ActionItem_Title}}</span>
                                </div>

                                <div class="card-body" style="font-size: 12px;">
                                    <span><span style="font-weight: 500;">Priority :</span>
                                        {{actionItem.Priority}}</span><br>
                                    <span><span style="font-weight: 500;">Description :</span>
                                        {{actionItem.Action_Description}}</span>
                                </div>
                                <div class="card-footer" style="font-size: 12px;">
                                    <span><span style="font-weight: 500;">Decision :</span>
                                        {{actionItem.decision}}</span><br>
                                </div>
                            </div>

                        </div>

                    </mat-tab>
                </mat-tab-group>
            </div>
        </div>
    </div>

    <div class="card card-head mt-5" *ngIf="commentLoad">
        <div class="card-header">
            <span class="card-title title">Comments</span>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col">

                    <quill-editor id="commentText" name="commentText" [(ngModel)]="commentText" [modules]="quillConfig"
                        (onSelectionChanged)="onSelectionChanged($event)" (onContentChanged)="onContentChanged($event)">
                    </quill-editor>
                </div>
            </div>
            <div class="row btnRow mb-3">
                <div class="col" style="text-align: right; font-size: 12px;">
                    <button ejs-button cssClass="e-primary" (click)="onCanelComment()">Cancel</button>
                    <button ejs-button cssClass="e-success" class="ml-sm-3 ml-2" (click)="onPostComment()">Post</button>
                </div>
            </div>

            <mat-divider></mat-divider>

            <div class="row mt-sm-4 mt-2 comment">
                <div class="col-12 mb-2" *ngFor="let comment of comments">
                    <div class="card">
                        <div class="card-header" style="font-size: 13px; display: flex;">
                            <div>
                                <img class="commentavatar" [src]="transform(comment.HostUser)">

                            </div>
                            <div class="ml-2">
                                <span><span style="font-weight: 500;">{{comment.HostUser | titlecase}}</span> added
                                    a
                                    comment</span><br>
                                <span style="font-size: 10px; font-weight: 500; color: gray;">{{comment.CommentDate
                                    |
                                    date : "MMM d, y h:mm a"}}</span>
                            </div>

                        </div>
                        <div class="card-body">
                            <div [innerHTML]="commentTransform(comment.comment)"></div>
                            <!-- <ejs-richtexteditor id="commentText" name="commentText" [(value)]="comment.comment"
                                    placeholder="Enter comment here" [(ngModel)]="commentText" [toolbarSettings]="tools">
                                </ejs-richtexteditor> -->
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

</ng-template>


<div id="id01" class="modal" *ngIf="dataLoaded">
    <form #scheduleForm="ngForm" (submit)="rescheduleMeeting(scheduleForm)" class="modal-content-assign animate"
        style="width: 30% ;justify-content: center">
        <div class="imgcontainer">
            <span onclick="document.getElementById('id01').style.display='none'" class="close"
                style="margin-top: -20px; font-size: 25px;" title="Close Modal">&times;</span>
            <div class="card" style="border-radius: 20px;">
                <div class="card-header">
                    <h1 class="card-title"><b>Select New date and time</b></h1>
                </div>
                <div class="card-body">
                    <div>
                        <label
                            style="font-size: 14px; margin-top: 20px; border-radius: 10px; color: rgb(112, 110, 110);">Select
                            Meeting Date and Time</label>
                        <input [owlDateTimeTrigger]="dt4" [min]="minDate" name="MeetingDate" [(ngModel)]="timeToDisplay"
                            #MeetingDate="ngModel" class="form-control" [owlDateTime]="dt4" required>
                        <owl-date-time #dt4></owl-date-time>
                    </div>
                    <div *ngIf="MeetingDate.invalid && (MeetingDate.dirty || MeetingDate.touched)"
                        class="alert1 float-left">
                        <div *ngIf="MeetingDate.errors.required" class="alert1">MeetingDate is required</div>
                    </div>

                </div>
                <div class="card-footer" style="text-align: center;">
                    <button mat-raised-button type="button" color="secondary"
                        onclick="document.getElementById('id01').style.display='none'" style="margin-right: 15px;">
                        Cancel</button>
                    <button mat-raised-button type="submit" color="primary" [disabled]="!MeetingDate.valid">
                        Re-Schedule</button>
                </div>
            </div>
        </div>
    </form>
</div>

<div id="id02" class="modal">
    <form #fileList="ngForm" class="modal-content-assign animate" style="width: 30% ;justify-content: center">
        <div class="imgcontainer m-2 p-2 container-fluid">
            <span onclick="document.getElementById('id02').style.display='none'" class="close"
                style="margin-top: -10px; font-size: 25px;" title="Close Modal">&times;</span>

            <div class="card" style="border-radius: 20px;">
                <div class="card-header">
                    <h1 class="card-title"><b>Select a file to download</b></h1>
                </div>
                <div class="card-body">
                    <label style="font-size: 14px; margin-top: 20px; border-radius: 10px; color: rgb(112, 110, 110);">
                        All Files</label>
                    <div *ngFor="let file of allFiles; let i = index" class="selectedFile row">
                        <div class="col-sm-10 col-8">
                            <span>{{file.originalName}}</span>
                        </div>
                        <div class="col">
                            <span class="mr-2" (click)="downloadAttachment(i)" title="Download File"><i
                                    class="fas fa-download"></i></span>
                            <span
                                *ngIf="currentUser.Initials === 'sAdmin' || currentUser.LoginName === meeting.HostUser"
                                title="Remove File" (click)="deleteAttachment(file._id)"><i
                                    class="fas fa-trash-alt"></i></span>
                        </div>

                    </div>
                </div>
                <div class="card-footer" style="text-align: center;">
                    <button mat-raised-button type="button" color="primary"
                        onclick="document.getElementById('id02').style.display='none'" style="margin-right: 15px;">
                        Cancel</button>
                </div>
            </div>
        </div>
    </form>
</div>

<div id="id03" class="modal" style="width: 100%;">
    <form #fileList="ngForm" class="modal-content-assign animate" style="width: 100% ;justify-content: center">
        <div class="imgcontainer container-fluid">
            <span onclick="document.getElementById('id03').style.display='none'" class="close"
                style="margin-top: -20px; font-size: 25px;" title="Close Modal">&times;</span>
            <div class="card" style="border-radius: 20px;">
                <div class="card-header">
                    <h1 class="card-title"><b>Select a file to download</b></h1>
                </div>
                <div class="card-body">
                    <label style="font-size: 14px; margin-top: 20px; border-radius: 10px; color: rgb(112, 110, 110);">
                        All Files</label>
                    <div *ngFor="let file of allFiles; let i = index" class="selectedFile row">
                        <div class="col-sm-10 col-8">
                            <span>{{file.originalName}}</span>
                        </div>
                        <div class="col">
                            <span class="mr-2" (click)="downloadAttachment(i)" title="Download File"><i
                                    class="fas fa-download"></i></span>
                            <span
                                *ngIf="currentUser.Initials === 'sAdmin' || currentUser.LoginName === meeting.HostUser"
                                title="Remove File" (click)="deleteAttachment(file._id)"><i
                                    class="fas fa-trash-alt"></i></span>
                        </div>

                    </div>
                </div>
                <div class="card-footer" style="text-align: center;">
                    <button mat-raised-button type="button" color="primary"
                        onclick="document.getElementById('id03').style.display='none'" style="margin-right: 15px;">
                        Cancel</button>
                </div>
            </div>
        </div>
    </form>
</div>